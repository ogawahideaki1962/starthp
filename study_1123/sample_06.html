<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>タグの追加・削除をしてみよう</title>
    <style>
      body {
        font-size: 14pt;
        font-weight: plain;
      }
      h1 {
        color: white;
        font-size: 24pt;
        background-color: red;
      }
      #area {
        background-color: #ffeeee;
        margin: 0px;
        width: 500px;
        height: 500px;
      }
      .newelement {
        margin: 5px;
        padding: 5px;
        border: solid 1px red;
      }
    </style>
    <script>
      var count = 0;

      function doDown(event) {
        console.log(event);
        switch (event.buttons) { // 押されたボタンの判定
          case 1:
            var w = event.clientX;
            var h = event.clientY;
            var obj = document.createElement('p'); // エレメントの作成
            obj.name = 'create element';
            obj.className = 'newelement';
            obj.textContent = "No. " + count++;
            event.target.appendChild(obj); // エレメントの追加
            break;
          case 3:
            if (event.target.name == "create element") { // 追加したエレメントなら
              var parent = event.target.parentElement; // 親エレメントの取得
              parent.removeChild(event.target); // エレメントの削除
            }
            break;
        }
        event.preventDefault(); // デフォルトの動作をキャンセル
      }
    </script>
  </head>

  <body>
    <h2 id="showTitle"></h2>
    <script>
      document.getElementById("showTitle").textContent = document.title;
    </script>
    <p id="area" onmousedown="doDown(event);">※エレメントの追加</p>
  </body>
</html>
